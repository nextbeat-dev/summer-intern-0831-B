
@import views.html.helper
@import model.site.article.SiteViewValueLesson
@import play.api.data.Form

@import persistence.teacherrequest.model.TeacherRequest
@(vv: SiteViewValueLesson, numJoin: Int, already: Int)(implicit messages: play.api.i18n.Messages)

@** --[ 見出し ]---------------------------------------------------------- *@
<h3 class="content__section header">
  <span class="header__title">講座提案</span>
</h3>

<div class="content__section content">
    <article class="lesson-item">
        <div class="item-panel__wrapper">
              <section class="request-item__content">
                  <table class="item-panel__content">
                      <tr>
                          <td class="inline, title-name" colspan="3">
                          @vv.lesson.name
                           </td>
                      </tr>
                      <tr class="detail">
                          <th class="inline">定員:</th>
                          <td class="inline">
                          @vv.lesson.maxPeople
                          </td>
                      </tr>
                      <tr class="date">
                          <th class="inline">開催のために必要な受講者数:</th>
                          <td class="inline">
                          @vv.lesson.minPeople
                          </td>
                      </tr>
                      <tr>
                          <th class="inline">現在参加者数:</th>
                          <td class="inline">
                          @numJoin
                          </td>
                      </tr>
                      <tr>
                          <th class="inline">受講料:</th>
                          <td class="inline">
                          @vv.lesson.fee
                          </td>
                      </tr>
                      <tr>
                          <th class="inline">現在参加者数:</th>
                          <td class="inline">
                          @numJoin
                          </td>
                      </tr>
                      <tr class="detail">
                          <th class="inline">詳細:</th>
                          <td class="inline">
                          @vv.lesson.detail
                          </td>
                      </tr>
                  </table>
              </section>
        </div>
    </article>
</div>

@** --[ 遷移フォーム ]---------------------------------------------------------- *@  
  <div class="content__section form bottom">
        @** 参加 *@
        @if( already == 0 ){
        @helper.form(action = controllers.article.routes.ArticleController.insertLessonJoin(vv.lesson.id.get)) {
          <input class="bottom-input" type="submit" value="参加">
        }
        } else {
            <input class="inline bottom-input" value="参加済">
        }
        @** 元の提案 *@
        @helper.form(action = controllers.article.routes.ArticleController.showRequest(vv.lesson.requestId)) {
        <input class="bottom-input" type="submit" value="元の提案">
        }
        @** 戻る *@
        @helper.form(action = controllers.top.routes.TopController.show) {
        <input class="bottom-input" type="submit" value="戻る">
        }
  </div>