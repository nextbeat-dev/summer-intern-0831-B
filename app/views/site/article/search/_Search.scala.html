@*
* This file is part of the Nextbeat services.
*
* For the full copyright and license information,
* please view the LICENSE file that was distributed with this source code.
*@
@import views.html.helper
@import model.site.article.SiteViewValueSearch
@import model.site.article.FormValueForSiteSearch
@import play.api.data.Form

@(vv: SiteViewValueSearch, form: Form[FormValueForSiteSearch])(implicit messages: play.api.i18n.Messages)

@** 施設検索一覧 *@
@views.html.common.layout.InnerContent("site-search-list-form", "content") {
    @** --[ 見出し ]---------------------------------------------------------- *@
    <h3 class="content__section header">
        <span class="header__title">提案・講義提案一覧</span>
    </h3>

    <div class="content__section form">
    @helper.form(action = controllers.article.routes.ArticleController.search) {
        @** 都道府県 *@
        <div class="form__section pref inline">
        @helper.select(
            field = form("locationId"),
            options = vv.locations.map(v => (v.id, v.namePref)),
            '_label -> "都道府県",
            '_default -> "未選択",
            '_showConstraints -> false
        )
        </div>
        <div class="form__section pref inline">
        @helper.select(
            field = form("categoryId"),
            options = vv.categories.map(v => (v.id, v.name)),
            '_label -> "カテゴリ",
            '_default -> "未選択",
            '_showConstraints -> false
        )
        </div>

        @** 検索ボタン *@
        <div class="form__section submit inline">
            <button class="button" type="submit">
                <span class="submit__text">検索</span>
            </button>
        </div>
    }
    </div>

    <div class="container">
        <div class="row">
            <div class="col">
                @for(request <- vv.requests) {
                    <a href="@controllers.article.routes.ArticleController.showRequest(request.id.get)" class="link">
                    <div class="item-panel__wrapper">
                        <header class="facility-item__header">
                            <div class="name">
                            @request.name
                            </div>
                        </header>
                        <section class="facility-item__content">
                            <div>
                                <div class="item-panel__content">
                                    <div class="description">
                                        <label class="inline">詳細:</label>
                                        <p class="inline">
                                        @request.detail
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                    </a>
                }
            </div>
            <div class="col">
                @for(lesson <- vv.lessons) {
                    <a href="@controllers.article.routes.ArticleController.showLesson(lesson.id.get)" class="link">
                        <div class="item-panel__wrapper">
                            <header class="facility-item__header">
                                <div class="name">
                                @lesson.name
                                </div>
                            </header>
                            <section class="facility-item__content">
                                <div>
                                    <div class="item-panel__content">
                                        <div class="description">
                                            <label class="inline">詳細:</label>
                                            <p class="inline">
                                            @lesson.detail
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </a>
                }
            </div>
        </div>
    </div>
}
